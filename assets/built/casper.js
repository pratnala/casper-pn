!function(n){"use strict";n.fn.fitVids=function(e){var t,o,r={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])),e&&n.extend(r,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];r.customSelector&&e.push(r.customSelector);var i=".fitvidsignore";r.ignore&&(i=i+", "+r.ignore);e=n(this).find(e.join(","));(e=(e=e.not("object object")).not(i)).each(function(){var e,t,o=n(this);0<o.parents(i).length||"embed"===this.tagName.toLowerCase()&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||(o.css("height")||o.css("width")||!isNaN(o.attr("height"))&&!isNaN(o.attr("width"))||(o.attr("height",9),o.attr("width",16)),e=("object"===this.tagName.toLowerCase()||o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))?parseInt(o.attr("height"),10):o.height())/(isNaN(parseInt(o.attr("width"),10))?o.width():parseInt(o.attr("width"),10)),o.attr("name")||(t="fitvid"+n.fn.fitVids._count,o.attr("name",t),n.fn.fitVids._count++),o.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),o.removeAttr("height").removeAttr("width"))})})},n.fn.fitVids._count=0}(window.jQuery||window.Zepto),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&null==localStorage.getItem("theme")&&(document.documentElement.setAttribute("color-mode","dark"),document.documentElement.classList.add("dark-mode"),localStorage.setItem("theme","dark"));var toggleColorMode=function(e){e.currentTarget.classList.contains("light--hidden")?(document.documentElement.setAttribute("color-mode","light"),document.documentElement.classList.remove("dark-mode"),localStorage.setItem("theme","light")):(document.documentElement.setAttribute("color-mode","dark"),document.documentElement.classList.add("dark-mode"),localStorage.setItem("theme","dark"))},toggleColorButtons=document.querySelectorAll(".color-mode-btn");toggleColorButtons.forEach(function(e){e.addEventListener("click",toggleColorMode)}),function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),e=e.attributes.width.value/e.attributes.height.value;t.style.flex=e+" 1 0%"})})}((window,document)),function(t,o){var i,r,n,d,a,l,s,c=o.querySelector("link[rel=next]");function m(){if(404===this.status)return t.removeEventListener("scroll",h),void t.removeEventListener("resize",f);this.response.querySelectorAll("article.post-card").forEach(function(e){i.appendChild(o.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?c.href=e.href:(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)),s=o.documentElement.scrollHeight,d=n=!1}function e(){var e;d||(a+l<=s-r?n=!1:(d=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",m),e.open("GET",c.href),e.send(null)))}function u(){n||t.requestAnimationFrame(e),n=!0}function h(){a=t.scrollY,u()}function f(){l=t.innerHeight,s=o.documentElement.scrollHeight,u()}!c||(i=o.querySelector(".post-feed"))&&(d=n=!(r=300),a=t.scrollY,l=t.innerHeight,s=o.documentElement.scrollHeight,t.addEventListener("scroll",h,{passive:!0}),t.addEventListener("resize",f),u())}(window,document);
//# sourceMappingURL=casper.js.map