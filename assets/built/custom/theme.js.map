{"version":3,"file":"theme.js","sources":["theme.js"],"sourcesContent":["// Dark mode toggle\r\n\r\n(function () {\r\n    var theme = localStorage.getItem('theme');\r\n    if (theme === 'dark') {\r\n        document.documentElement.setAttribute('color-mode', 'dark');\r\n        document.documentElement.classList.add('dark-mode');\r\n        document.querySelector('hyvor-talk-comments').setAttribute('colors', 'dark');\r\n        var tweets = document.querySelectorAll('[data-tweet-id]');\r\n        tweets.forEach(function(tweet) {\r\n            var src = tweet.getAttribute('src');\r\n            tweet.setAttribute('src', src.replace('theme=light', 'theme=dark'));\r\n        });\r\n    } else {\r\n        document.documentElement.setAttribute('color-mode', 'light');\r\n        document.documentElement.classList.remove('dark-mode');\r\n        document.querySelector('hyvor-talk-comments').setAttribute('colors', 'light');\r\n        var tweets = document.querySelectorAll('[data-tweet-id]');\r\n        tweets.forEach(function (tweet) {\r\n            var src = tweet.getAttribute('src');\r\n            tweet.setAttribute('src', src.replace('theme=dark', 'theme=light'));\r\n        });\r\n    }\r\n})();\r\n\r\nvar toggleColorMode = function toggleColorMode(e) {\r\n    if (e.currentTarget.classList.contains('light--hidden')) {\r\n        document.documentElement.setAttribute('color-mode', 'light');\r\n        document.documentElement.classList.remove('dark-mode');\r\n        localStorage.setItem('theme', 'light');\r\n        document.querySelector('hyvor-talk-comments').setAttribute('colors', 'light');\r\n        var tweets = document.querySelectorAll('[data-tweet-id]');\r\n        tweets.forEach(function (tweet) {\r\n            var src = tweet.getAttribute('src');\r\n            tweet.setAttribute('src', src.replace('theme=dark', 'theme=light'));\r\n        });\r\n    } else {\r\n        document.documentElement.setAttribute('color-mode', 'dark');\r\n        document.documentElement.classList.add('dark-mode');\r\n        localStorage.setItem('theme', 'dark');\r\n        document.querySelector('hyvor-talk-comments').setAttribute('colors', 'dark');\r\n        var tweets = document.querySelectorAll('[data-tweet-id]');\r\n        tweets.forEach(function (tweet) {\r\n            var src = tweet.getAttribute('src');\r\n            tweet.setAttribute('src', src.replace('theme=light', 'theme=dark'));\r\n        });\r\n    }\r\n};\r\n\r\nvar toggleColorButtons = document.querySelectorAll('.color-mode-btn');\r\n\r\ntoggleColorButtons.forEach(function (btn) {\r\n    btn.addEventListener('click', toggleColorMode);\r\n});\r\n\r\n// Progress bar\r\n\r\nconst readingProgress = (contentArea, progressBar) => {\r\n    const content = document.querySelector(contentArea);\r\n    const progress = document.querySelector(progressBar);\r\n\r\n    const frameListening = () => {\r\n        const contentBox = content.getBoundingClientRect();\r\n        const midPoint = window.innerHeight / 2;\r\n\r\n        if (contentBox.top > midPoint) {\r\n            progress.value = 0;\r\n        }\r\n\r\n        if (contentBox.top < midPoint) {\r\n            progress.value = progress.max;\r\n        }\r\n\r\n        if (contentBox.top <= midPoint && contentBox.bottom >= midPoint) {\r\n            progress.value =\r\n                (progress.max * Math.abs(contentBox.top - midPoint)) /\r\n                contentBox.height;\r\n        }\r\n\r\n        window.requestAnimationFrame(frameListening);\r\n    };\r\n\r\n    window.requestAnimationFrame(frameListening);\r\n};\r\n\r\nreadingProgress(\".gh-content\", \".reading-progress-bar\");\r\n\r\n/*\r\n * Published time for a post is formatted to a custom format in two places\r\n * 1. Byline on a post page\r\n * 2. Byline on the post preview card on the home page, author page, tag page, etc.\r\n*/\r\n\r\n$(document).ready(function () {\r\n    $('.byline-meta-date').each(function (i, date) {\r\n        var $date = $(date);\r\n\r\n        $date.html(moment.unix($date.attr('datetime')).format('MMMM D, YYYY [at] h:mm a'));\r\n    });\r\n});\r\n\r\n$(document).ready(function () {\r\n    $('.post-card-meta-date').each(function (i, time) {\r\n        var $time = $(time);\r\n\r\n        $time.html(moment.unix($time.attr('datetime')).format('MMM D, YYYY [@] h:mm a'));\r\n    });\r\n});\r\n"],"names":["localStorage","getItem","document","documentElement","setAttribute","classList","add","querySelector","querySelectorAll","forEach","tweet","src","getAttribute","replace","remove","toggleColorMode","e","currentTarget","contains","setItem","toggleColorButtons","btn","addEventListener","readingProgress","contentArea","progressBar","content","progress","frameListening","contentBox","getBoundingClientRect","midPoint","window","innerHeight","top","value","max","bottom","Math","abs","height","requestAnimationFrame","$","ready","each","i","date","$date","html","moment","unix","attr","format","time","$time"],"mappings":"AAIkB,SADFA,aAAaC,QAAQ,OAAO,GAEpCC,SAASC,gBAAgBC,aAAa,aAAc,MAAM,EAC1DF,SAASC,gBAAgBE,UAAUC,IAAI,WAAW,EAClDJ,SAASK,cAAc,qBAAqB,EAAEH,aAAa,SAAU,MAAM,EAC9DF,SAASM,iBAAiB,iBAAiB,EACjDC,QAAQ,SAASC,GACpB,IAAIC,EAAMD,EAAME,aAAa,KAAK,EAClCF,EAAMN,aAAa,MAAOO,EAAIE,QAAQ,cAAe,YAAY,CAAC,CACtE,CAAC,IAEDX,SAASC,gBAAgBC,aAAa,aAAc,OAAO,EAC3DF,SAASC,gBAAgBE,UAAUS,OAAO,WAAW,EACrDZ,SAASK,cAAc,qBAAqB,EAAEH,aAAa,SAAU,OAAO,EAC/DF,SAASM,iBAAiB,iBAAiB,EACjDC,QAAQ,SAAUC,GACrB,IAAIC,EAAMD,EAAME,aAAa,KAAK,EAClCF,EAAMN,aAAa,MAAOO,EAAIE,QAAQ,aAAc,aAAa,CAAC,CACtE,CAAC,GAIT,IAAIE,gBAAkB,SAAyBC,GACvCA,EAAEC,cAAcZ,UAAUa,SAAS,eAAe,GAClDhB,SAASC,gBAAgBC,aAAa,aAAc,OAAO,EAC3DF,SAASC,gBAAgBE,UAAUS,OAAO,WAAW,EACrDd,aAAamB,QAAQ,QAAS,OAAO,EACrCjB,SAASK,cAAc,qBAAqB,EAAEH,aAAa,SAAU,OAAO,EAC/DF,SAASM,iBAAiB,iBAAiB,EACjDC,QAAQ,SAAUC,GACrB,IAAIC,EAAMD,EAAME,aAAa,KAAK,EAClCF,EAAMN,aAAa,MAAOO,EAAIE,QAAQ,aAAc,aAAa,CAAC,CACtE,CAAC,IAEDX,SAASC,gBAAgBC,aAAa,aAAc,MAAM,EAC1DF,SAASC,gBAAgBE,UAAUC,IAAI,WAAW,EAClDN,aAAamB,QAAQ,QAAS,MAAM,EACpCjB,SAASK,cAAc,qBAAqB,EAAEH,aAAa,SAAU,MAAM,EAC9DF,SAASM,iBAAiB,iBAAiB,EACjDC,QAAQ,SAAUC,GACrB,IAAIC,EAAMD,EAAME,aAAa,KAAK,EAClCF,EAAMN,aAAa,MAAOO,EAAIE,QAAQ,cAAe,YAAY,CAAC,CACtE,CAAC,EAET,EAEIO,mBAAqBlB,SAASM,iBAAiB,iBAAiB,EAEpEY,mBAAmBX,QAAQ,SAAUY,GACjCA,EAAIC,iBAAiB,QAASP,eAAe,CACjD,CAAC,EAID,MAAMQ,gBAAkB,CAACC,EAAaC,KAClC,MAAMC,EAAUxB,SAASK,cAAciB,CAAW,EAC5CG,EAAWzB,SAASK,cAAckB,CAAW,EAE7CG,EAAiB,KACnB,IAAMC,EAAaH,EAAQI,sBAAsB,EAC3CC,EAAWC,OAAOC,YAAc,EAElCJ,EAAWK,IAAMH,IACjBJ,EAASQ,MAAQ,GAGjBN,EAAWK,IAAMH,IACjBJ,EAASQ,MAAQR,EAASS,KAG1BP,EAAWK,KAAOH,GAAYF,EAAWQ,QAAUN,IACnDJ,EAASQ,MACJR,EAASS,IAAME,KAAKC,IAAIV,EAAWK,IAAMH,CAAQ,EAClDF,EAAWW,QAGnBR,OAAOS,sBAAsBb,CAAc,CAC/C,EAEAI,OAAOS,sBAAsBb,CAAc,CAC/C,EAEAL,gBAAgB,cAAe,uBAAuB,EAQtDmB,EAAExC,QAAQ,EAAEyC,MAAM,WACdD,EAAE,mBAAmB,EAAEE,KAAK,SAAUC,EAAGC,GACjCC,EAAQL,EAAEI,CAAI,EAElBC,EAAMC,KAAKC,OAAOC,KAAKH,EAAMI,KAAK,UAAU,CAAC,EAAEC,OAAO,0BAA0B,CAAC,CACrF,CAAC,CACL,CAAC,EAEDV,EAAExC,QAAQ,EAAEyC,MAAM,WACdD,EAAE,sBAAsB,EAAEE,KAAK,SAAUC,EAAGQ,GACpCC,EAAQZ,EAAEW,CAAI,EAElBC,EAAMN,KAAKC,OAAOC,KAAKI,EAAMH,KAAK,UAAU,CAAC,EAAEC,OAAO,wBAAwB,CAAC,CACnF,CAAC,CACL,CAAC"}