{"version":3,"file":"theme.js","sources":["theme.js"],"sourcesContent":["// Dark mode toggle\r\n\r\n(function () {\r\n    var theme = localStorage.getItem('theme');\r\n    if (theme === 'dark') {\r\n        document.documentElement.setAttribute('color-mode', 'dark');\r\n        document.documentElement.classList.add('dark-mode');\r\n        if (window.hyvor_talk) {\r\n            window.hyvor_talk.setPalette(darkPalette);\r\n        }\r\n    } else {\r\n        document.documentElement.setAttribute('color-mode', 'light');\r\n        document.documentElement.classList.remove('dark-mode');\r\n        if (window.hyvor_talk) {\r\n            window.hyvor_talk.setPalette(lightPalette);\r\n        }\r\n    }\r\n})();\r\n\r\nvar toggleColorMode = function toggleColorMode(e) {\r\n    if (e.currentTarget.classList.contains('light--hidden')) {\r\n        document.documentElement.setAttribute('color-mode', 'light');\r\n        document.documentElement.classList.remove('dark-mode');\r\n        localStorage.setItem('theme', 'light');\r\n        if (window.hyvor_talk) {\r\n            window.hyvor_talk.setPalette(lightPalette);\r\n        }\r\n    } else {\r\n        document.documentElement.setAttribute('color-mode', 'dark');\r\n        document.documentElement.classList.add('dark-mode');\r\n        localStorage.setItem('theme', 'dark');\r\n        if (window.hyvor_talk) {\r\n            window.hyvor_talk.setPalette(darkPalette);\r\n        }\r\n    }\r\n};\r\n\r\nvar toggleColorButtons = document.querySelectorAll('.color-mode-btn');\r\n\r\ntoggleColorButtons.forEach(function (btn) {\r\n    btn.addEventListener('click', toggleColorMode);\r\n});\r\n\r\n// Progress bar\r\n\r\nconst readingProgress = (contentArea, progressBar) => {\r\n    const content = document.querySelector(contentArea);\r\n    const progress = document.querySelector(progressBar);\r\n\r\n    const frameListening = () => {\r\n        const contentBox = content.getBoundingClientRect();\r\n        const midPoint = window.innerHeight / 2;\r\n\r\n        if (contentBox.top > midPoint) {\r\n            progress.value = 0;\r\n        }\r\n\r\n        if (contentBox.top < midPoint) {\r\n            progress.value = progress.max;\r\n        }\r\n\r\n        if (contentBox.top <= midPoint && contentBox.bottom >= midPoint) {\r\n            progress.value =\r\n                (progress.max * Math.abs(contentBox.top - midPoint)) /\r\n                contentBox.height;\r\n        }\r\n\r\n        window.requestAnimationFrame(frameListening);\r\n    };\r\n\r\n    window.requestAnimationFrame(frameListening);\r\n};\r\n\r\nreadingProgress(\".gh-content\", \".reading-progress-bar\");\r\n\r\n// Post time\r\n\r\n$document.ready(function () {\r\n    $('.post-date').each(function (date) {\r\n        var date = $(date);\r\n\r\n        $date.html(moment($date.attr('datetime')).format('MMMM DD, YYYY h:mm a'));\r\n    });\r\n});\r\n"],"names":["localStorage","getItem","document","documentElement","setAttribute","classList","add","window","hyvor_talk","setPalette","darkPalette","remove","lightPalette","toggleColorMode","e","currentTarget","contains","setItem","toggleColorButtons","querySelectorAll","forEach","btn","addEventListener","readingProgress","contentArea","progressBar","content","querySelector","progress","frameListening","contentBox","getBoundingClientRect","midPoint","innerHeight","top","value","max","bottom","Math","abs","height","requestAnimationFrame","$document","ready","$","each","date","$date","html","moment","attr","format"],"mappings":"AAIkB,SADFA,aAAaC,QAAQ,UAE7BC,SAASC,gBAAgBC,aAAa,aAAc,QACpDF,SAASC,gBAAgBE,UAAUC,IAAI,aACnCC,OAAOC,YACPD,OAAOC,WAAWC,WAAWC,eAGjCR,SAASC,gBAAgBC,aAAa,aAAc,SACpDF,SAASC,gBAAgBE,UAAUM,OAAO,aACtCJ,OAAOC,YACPD,OAAOC,WAAWC,WAAWG,eAKzC,IAAIC,gBAAkB,SAAyBC,GACvCA,EAAEC,cAAcV,UAAUW,SAAS,kBACnCd,SAASC,gBAAgBC,aAAa,aAAc,SACpDF,SAASC,gBAAgBE,UAAUM,OAAO,aAC1CX,aAAaiB,QAAQ,QAAS,SAC1BV,OAAOC,YACPD,OAAOC,WAAWC,WAAWG,gBAGjCV,SAASC,gBAAgBC,aAAa,aAAc,QACpDF,SAASC,gBAAgBE,UAAUC,IAAI,aACvCN,aAAaiB,QAAQ,QAAS,QAC1BV,OAAOC,YACPD,OAAOC,WAAWC,WAAWC,eAKrCQ,mBAAqBhB,SAASiB,iBAAiB,mBAEnDD,mBAAmBE,QAAQ,SAAUC,GACjCA,EAAIC,iBAAiB,QAAST,mBAKlC,MAAMU,gBAAkB,CAACC,EAAaC,KAClC,MAAMC,EAAUxB,SAASyB,cAAcH,GACjCI,EAAW1B,SAASyB,cAAcF,GAElCI,EAAiB,KACnB,IAAMC,EAAaJ,EAAQK,wBACrBC,EAAWzB,OAAO0B,YAAc,EAElCH,EAAWI,IAAMF,IACjBJ,EAASO,MAAQ,GAGjBL,EAAWI,IAAMF,IACjBJ,EAASO,MAAQP,EAASQ,KAG1BN,EAAWI,KAAOF,GAAYF,EAAWO,QAAUL,IACnDJ,EAASO,MACJP,EAASQ,IAAME,KAAKC,IAAIT,EAAWI,IAAMF,GAC1CF,EAAWU,QAGnBjC,OAAOkC,sBAAsBZ,IAGjCtB,OAAOkC,sBAAsBZ,IAGjCN,gBAAgB,cAAe,yBAI/BmB,UAAUC,MAAM,WACZC,EAAE,cAAcC,KAAK,SAAUC,GACvBA,EAAOF,EAAEE,GAEbC,MAAMC,KAAKC,OAAOF,MAAMG,KAAK,aAAaC,OAAO"}